<html>
<head>
<meta charset="utf-8">
  <title>Задачки про отражения и непериодические узоры</title>
<style>
   body {  font-size: 130%;
           margin-top: 2em;
           margin-left: 4em;
		   margin-right: 4em;}
   pre  {  background-color: #eee;
           padding-top: 10;
	       padding-bottom: 10;}
</style>   
 
</head>
<body>
<h2>Задачки про отражения</h2>

<p><a href='https://server.179.ru/tasks/python/2025b/pgm12__Turtle.html' target='blank'>Про модуль turtle в python.</a> Задачи С и D можно решать с помощью модуля tkinter или PILL.</p>
<h4>Задание:</h4>
<p><strong>A. Луч света в зеркальной коробочке.</strong><br>
Пусть имеется прямоугольная коробка с зеркальными стенками. Туда запускают луч света под случайным углом. Он будет отражаться от стенок по правилу "угол отражения равен углу падения". Нужно нарисовать путь этого луча. Вернётся ли он когда-нибудь в начальную точку?
</p>
Можно в качестве луча использовать черепашку. В начале установить для неё случайный угол поворота в центре прямоугольника и запустить двигаться маленькими шагами. На каждом шаге будем проверять, не врезалась ли черепашка в стенку (надо задать координаты стенок). И если врезалась, изменить её угол поворота.</p><p> Пример:</p><p>
<pre>
import turtle           
from random import randint

T = turtle.Turtle()    #T — это наша черепашка. Можно создавать много черепашек
T.pencolor('red')     # Поменять цвет пера на красный
T.pensize(2)          # Установить толщину пера 3
angle = 0
T.setheading(angle)   # установить фиксированный угол поворота относительно горизонтали

T.pendown()             # Опускаем перо (начало рисования)
T.forward(150)           # Проползти 150 пикселей вперед
T.left(120)
T.forward(150) 
print(T.xcor(),T.ycor())  # напечатать координаты черепашки
print(T.heading())        # напечатать текущий угол поворота

turtle.mainloop()       # Задержать окно на экране (эта команда должна быть последней)
</pre>
<p>Допишите программу так, чтобы черепашка двигалась, отражаясь от стенок заданного прямоугольника. </p>
<p><img src='light3.png'> </p>
<hr>

<p><strong>B. </strong> Поставим в нашу зеркальную коробочку прямоугольную преграду с зеркальными стенками. Измените программу так, чтобы луч отражался не только от стенок коробочки, но и от преграды.</p>

<p><img src='light1.png'> </p>
<hr>
<p><strong>С. Непериодические узоры</strong> 
<br> Имеется прямоугольник размером m на n клеточек (числа m  и n взаимно просты, то есть не имеют общих делителей). Из угла прямоугольника (внутрь) выходит луч под углом 45 градусов. Луч отражается от стенок по правилу: угол отражения равен углу падения. луч не простой, а мигающий: пока проходит диагональ одной клеточки, горит, потом на такое же время выключается, потом опять зажигается, и так далее. Нарисуйте ход луча (с учётом мигания).
<br> Движение заканчивается, когда луч снова попадаает в один из углов прямоугольника.
 </p>
<p><img src='light4.png'> </p>
<p>Если взять значения m и n побольше и раскрасить картинку, то видно, что получившийся узор не повторяется, повторяются только отдельные элементы.
</p>
<p>
<img src='light6.png'> </p>
<p>
<img src='light8.png'> </p>
<p>
<img src='light9.png'> </p>
<hr>
<p><strong>D. </strong> Какие узоры получатся, если рисовать отрезки не через один, а через два или через три? Или два отрезка рисовать, а третий - нет?
</p>
<hr>
</body>
</html>